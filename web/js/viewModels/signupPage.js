define(["ojs/ojcore","knockout","jquery","ojs/ojselectcombobox","ojs/ojinputtext","ojs/ojbutton"],function(e,o,s){function a(){var a=this;a.firstname=o.observable(),a.middlename=o.observable(),a.lastname=o.observable(),a.email=o.observable(),a.username=o.observable(),a.phone=o.observable(),a.stack=o.observableArray(),a.location=o.observable(),a.password=o.observable(),a.verifyPassword=o.observable(),a.progressValue=o.observable(20),a.pageMessage=o.observable(""),a.submitInfo=function(){console.log("Button clicked.."),a.progressValue(-1);var o=a.firstName()+" "+a.middleName()+" "+a.lastName(),n=a.stack().join();if(console.log(n),console.log(o),a.password()!=a.verifyPassword())return a.pageMessage("Passwords dont match"),void alert("Passwords dont match");var t=JSON.stringify({fullname:o,email:a.email(),username:a.username(),location:a.location(),phone:a.phone(),stack:n,password:a.password()});console.log(t),s.ajax({url:"http://volunteerng.herokuapp.com/api/create_user.php",method:"POST",contentType:"applicantion/json",data:t,success:function(o){a.progressValue(20),1==o.status?(console.log("registered"),a.pageMessage("Registration successful"),e.Router.rootInstance.go("loginPage")):(console.log("invalid login / bad parsing"),a.pageMessage("Could not register"),alert("Could not Register"))},error:function(e,o){a.progressValue(20),a.pageMessage("Passwords dont match"),alert("Could not Register")}})},a.loginClick=function(){e.Router.rootInstance.go("loginPage")},a.handleActivated=function(e){},a.handleAttached=function(e){},a.handleBindingsApplied=function(e){},a.handleBindingsApplied=function(e){},a.handleDetached=function(e){}}return new a});